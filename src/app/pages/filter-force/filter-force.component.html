<div class="flex flex-column gap-3">
  <div class="flex flex-row justify-content-between align-items-end">
    <div class="flex flex-column">
      <h1 class="page-h1">Filter Force Messages</h1>
      <div
        class="flex flex-row text-yellow-500 text-sm justify-content-start gap-2"
      >
        <i class="pi pi-exclamation-triangle"></i>
        <span>Minimum messages for Filter Force are 10</span>
      </div>
    </div>
    <button pButton icon="pi pi-plus" (click)="toggleCreateMessageDialogVisibility()" >Create Message</button>
  </div>
  <div class="surface-100 border-round flex flex-column gap-2 p-4">

  </div>
</div>

<p-dialog header="Create New Message" [modal]="true" [(visible)]="visible" [style]="{ width: '50%' }" (onHide)="resetCreateMessageForm()">
  <form [formGroup]="createMessageForm" (ngSubmit)="onCreateMessage()">
    <div class="flex flex-column align-items-start gap-1 mb-4">
      <label for="message" class="font-semibold">Message</label>
      <input pInputText id="message" formControlName="message" class="w-full" />
      @if (isFieldInvalid('message')) {
        <span class="text-red-500 text-xs" *ngIf="createMessageForm.get('message')?.errors?.['required']">Message is required</span>
      } 
    </div>
    <div class="flex flex-row justify-content-between gap-2 mb-4">
      <label for="is_danger" class="font-semibold">This is a dangerous message</label>
      <p-toggleswitch id="is_danger" formControlName="isDanger"></p-toggleswitch>
    </div>
    <div class="flex justify-content-end gap-2">
        <p-button label="Cancel" severity="secondary" (click)="toggleCreateMessageDialogVisibility()" />
        <p-button label="Create" type="submit" />
    </div>
  </form>
</p-dialog>